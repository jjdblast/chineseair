<!DOCTYPE html>
<html>
    <head>
        <meta name="generator" content="HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>
            Graphing Air Pollution in China (Aengus Walton)
        </title>
        <link rel="stylesheet" href="stylesheets/styles.css" type="text/css">
        <link rel="stylesheet" href="stylesheets/pygment_trac.css" type="text/css">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><!--[if lt IE 9]&gt;
        &lt;script src="//html5shiv.googlecode.com/svn/trunk/html5.js"&gt;&lt;/script&gt;
        &lt;![endif]-->
    </head>
    <body>
        <div class="wrapper">
            <h1>
                Graphing Air Pollution in China
            </h1>
            <p>
                News of high levels of air pollution in China are nothing new, but <a href="http://www.bbc.co.uk/news/world-asia-china-21007893">recent reports</a> have startled many.
            </p>
            <blockquote>
                <p>
                    WHO guidelines say average concentrations of the tiniest pollution particles - called PM2.5 - should be no more than 25 microgrammes per cubic metre. Air is unhealthy above 100 microgrammes and at 300, all children and elderly people should remain indoors.
                </p>
                <p>
                    Official Beijing city readings on Saturday [12th January 2013] suggested pollution levels of over 400. An unofficial reading from a monitor at the US embassy recorded levels of over 800.
                </p>
            </blockquote>
            <p>
                As mentioned above, United States Embassies in China run twitter accounts which tweet the current levels of air pollution in <a href="https://twitter.com/BeijingAir" target="_new">Beijing</a>, <a href="https://twitter.com/CGShanghaiAir" target="_new">Shanghai</a>, <a href="https://twitter.com/Guangzhou_Air" target="_new">Guangzhou</a> and <a href="https://twitter.com/CGChengduAir" target="_new">Chengdu</a>. Apparently the authorities have threatened to shut them down on multiple occasions but not yet followed through.
            </p>
            <p>
                I think these twitter accounts are a great idea but they have one problem: it's rather difficult to digest the information (points on the <a href="http://www.airnow.gov/index.cfm?action=aqibasics.aqi">Air Quality Index</a>) in tweet form. Twitter does a great job at getting the information out there, but to properly consume it, you really need a graph. So, one evening I decided to hack this page together.
            </p>
            <p>
                The graph will update hourly, just as the twitter feeds do.
            </p>
            <h2>
                Current Pollution Levels
            </h2>
            <iframe width="900" height="450" scrolling="no" frameborder="no" src="https://www.google.com/fusiontables/embedviz?containerId=googft-gviz-canvas&amp;viz=GVIZ&amp;t=LINE_AGGREGATE&amp;isXyPlot=true&amp;bsize=0&amp;q=select+col0%2C+col1%2C+col4%2C+col2%2C+col3%2C+col5+from+14BwrqWVcFIEZSVSa15TlkqTsLYqLO6BXJkWzhu60&amp;qrs=+where+col0+%3E%3D+&amp;qre=+and+col0+%3C%3D+&amp;qe=+order+by+col0+asc&amp;uiversion=2&amp;rstart=2014%2F3%2F25+9%3A2%3A56&amp;rend=2014%2F4%2F30+15%3A20%3A13&amp;gco_forceIFrame=true&amp;gco_hasLabelsColumn=true&amp;width=900&amp;height=450"></iframe>
            <h2>
                Source code and data
            </h2>
            <p>
                The scripts used to compile this data are available for inspection <a href="https://github.com/kopf/chineseair" target="_new">here</a>. 
                The raw data is stored in a Google Fusion Table. You can <a href="https://www.google.com/fusiontables/DataSource?docid=14BwrqWVcFIEZSVSa15TlkqTsLYqLO6BXJkWzhu60" target="_new">view this table here</a> and also download a spreadsheet of the raw data.
            <h2>
                About me
            </h2>
            <p>
                I'm <a href="http://ventolin.org">Aengus Walton</a>, a software engineer from Ireland, currently living in Germany. You can <a href="http://github.com/kopf">see some of my open-source projects here</a>, and <a href="http://ventolin.org">read my (much neglected) blog here</a>.
            </p>
            <p>
                If you would like to contact me, you can <a href="http://ventolin.org/about-2">get my email address here</a>.
            </p>
        </div>
        <script src="javascripts/scale.fix.js" type="text/javascript"></script>
        <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
        </script>
        <script type="text/javascript">
            try {
                var pageTracker = _gat._getTracker("UA-37666330-1");
                pageTracker._trackPageview();
            } catch(err) {}
        </script>
    </body>
</html>
